(this.webpackJsonpdoit=this.webpackJsonpdoit||[]).push([[0],{117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),i=n.n(s),r=n(50),o=n.n(r),c=(n(59),n(7)),l=n(2),u=n(5),h=n(6),j=n(4),d=n(3),b=n(11),p=n(8),v=(n(60),function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={visible:!1,show:!1},e}return Object(u.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){var n=this;return t.visible!==this.state.visible||this.props.msg_from_parent!==e.msg_from_parent&&(this.setState({msg:e.msg_from_parent,visible:!0,show:!0}),setTimeout((function(){n.setState({visible:!1})}),3e3),!0)}},{key:"render",value:function(){return this.state.visible&&Object(a.jsx)("div",{className:this.props.class,children:this.props.msg_from_parent})}}]),n}(s.Component)),O=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={message:""},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.location.state&&this.setState({message:this.props.location.state.message})}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"contentStyles",children:[Object(a.jsx)(v,{msg_from_parent:this.state.message,class:"msg"}),Object(a.jsx)("h1",{children:"DOIT"})]})}}]),n}(s.Component),m=(n(61),function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)("button",{id:"roundButton",onMouseDown:this.props.handleMouseDown})}}]),n}(s.Component)),f=(n(62),n(16)),g=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={jwt:""===e.jwt?"":e.jwt},a}return Object(u.a)(n,[{key:"render",value:function(){if(""!==this.state.jwt){var e=Object(f.a)(this.state.jwt);console.log(e);var t=Object(f.a)(this.state.jwt,{header:!0});console.log(t)}var n="hide";return this.props.menuVisibility&&(n="show"),Object(a.jsx)("div",{id:"flyoutMenu",onMouseDown:this.props.handleMouseDown,className:n,children:Object(a.jsxs)("div",{className:"menuContent listNoStyle",children:[Object(a.jsxs)("div",{className:"loginSignin",children:[Object(a.jsx)(b.b,{to:"/login",children:"Login"}),Object(a.jsx)(b.b,{to:"/signup",children:"Registrazione"}),Object(a.jsx)(b.b,{to:"/user/private",children:"Profilo"})]}),Object(a.jsx)(b.b,{to:"/",children:"Home"}),Object(a.jsx)(b.b,{to:"/storefront",children:"Vetrina"}),Object(a.jsx)(b.b,{to:"/projects",children:"I miei progetti"}),Object(a.jsx)(b.b,{to:"/candidature",children:"Candidature"}),Object(a.jsx)(b.b,{to:"/progettisti",children:"I progettisti"})]})})}}]),n}(s.Component),x={fontFamily:"sans-serif",position:"fixed",right:"20px"},y=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={visible:!1},a.toggleMenu=a.toggleMenu.bind(Object(h.a)(a)),a.handleMouseDown=a.handleMouseDown.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"handleMouseDown",value:function(e){this.toggleMenu(),e.stopPropagation()}},{key:"toggleMenu",value:function(){this.setState({visible:!this.state.visible})}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(g,{handleMouseDown:this.handleMouseDown,menuVisibility:this.state.visible,jwt:this.props.jwt}),Object(a.jsx)("div",{style:x,children:Object(a.jsx)(m,{handleMouseDown:this.handleMouseDown})})]})}}]),n}(s.Component);function C(e){console.log(" ### All The Props ### ");var t=[],n=Object.getOwnPropertyNames(e);n.forEach((function(a,s){t[s]={name:n[s],enumerable:e.propertyIsEnumerable(a)}})),console.table(t)}function w(e){return e.response?400===e.response.status?(console.log(e.response),"400: richiesta non riuscita"):401===e.response.status?"401: credenziali non autorizzate":403===e.response.status?"403: credenziali non riconosciute o mancanti":(C(e),console.log(e.message),console.log(e.response),"errore sconosciuto"):e.message?e.message:""}function S(e){if(console.log(e),""===e||null===e)return!1;var t=e.roles;for(var n in t)if("PROPOSITORE"===t[n].authority)return!0;return!1}function N(e){if(""===e||null===e)return!1;var t=e.roles;for(var n in t)if("ESPERTO"===t[n].authority)return!0;return!1}n(26),n(27);var k=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)("button",{className:"button",onMouseDown:this.props.changeVisibility,children:"+"})}}]),n}(s.Component),z=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={height:"auto"},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"handleChange",value:function(e){e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+"px",this.props.onChange(e)}},{key:"render",value:function(){return Object(a.jsx)("textarea",{className:"TextAreaAutoSize",style:{borderStyle:"none",backgroundColor:"lightblue",fontSize:"13px",padding:"5px",height:"auto"},type:"text",value:this.state.value,onChange:this.handleChange})}}]),n}(s.Component),D=n(23),M=(n(70),function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={className:e.className?e.className:""},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.name,Object(D.a)(e,["name"]));return Object(a.jsxs)("div",{className:"container",children:[this.props.error&&Object(a.jsx)("div",{className:"error",children:this.props.error}),Object(a.jsx)("input",Object(c.a)(Object(c.a)({},t),{},{onChange:this.props.onChange,className:this.state.className}))]})}}]),n}(s.Component)),P=n(9),V=n.n(P);function T(e){var t={url:"http://localhost:8080/api/projects",method:"get",headers:{RecruiterID:e,"Content-Type":"application/json"}};return V()(t).then((function(e){return e.data})).catch((function(e){return Promise.reject(e)}))}var E=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={titolo:"",descrizione:"",requisiti:"",error:"",created:!1},a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.onChangeTitolo=a.onChangeTitolo.bind(Object(h.a)(a)),a.onChangeDescrizione=a.onChangeDescrizione.bind(Object(h.a)(a)),a.onChangeRequisiti=a.onChangeRequisiti.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"handleSubmit",value:function(e){var t=this;e.stopPropagation(),function(e,t,n,a){var s={"Content-Type":"application/json",Authorization:"Bearer ".concat(e)};return V.a.post("http://localhost:8080/api/progetti/creaNuovoProgetto",{titolo:t,descrizione:n,requisiti:a},{headers:s})}(this.props.jwt,this.state.titolo,this.state.descrizione,this.state.requisiti).then((function(e){201===e.status&&t.setState({created:!0})})).catch((function(e){return t.setState({error:w(e)})}))}},{key:"onChangeTitolo",value:function(e){this.setState({titolo:e.target.value})}},{key:"onChangeDescrizione",value:function(e){this.setState({descrizione:e.target.value})}},{key:"onChangeRequisiti",value:function(e){this.setState({requisiti:e.target.value})}},{key:"render",value:function(){return this.state.created?Object(a.jsx)(p.a,{to:{pathname:"/projects",state:{message:"Progetto creato!"}}}):Object(a.jsxs)("div",{className:"NewProjectForm",children:[this.state.error&&Object(a.jsx)("div",{className:"error",children:this.state.error}),Object(a.jsxs)("form",{children:["Titolo",Object(a.jsx)(M,{id:"titolo",placeholder:"titolo",type:"text",value:this.state.titolo,className:"text",onChange:this.onChangeTitolo}),Object(a.jsx)("div",{children:"Descrizione"}),Object(a.jsx)(z,{id:"descrizione",placeholder:"descrizione",type:"text",value:this.state.descrizione,className:"text",onChange:this.onChangeDescrizione}),Object(a.jsx)("div",{children:"Requisiti"}),Object(a.jsx)(z,{id:"requisiti",placeholder:"requisiti",type:"text",value:this.state.requisiti,className:"text",onChange:this.onChangeRequisiti})]}),Object(a.jsx)("button",{className:"button",onMouseDown:this.handleSubmit,children:"Crea progetto"}),Object(a.jsx)("button",{className:"button",onMouseDown:this.props.changeVisibility,children:"Annulla"})]})}}]),n}(s.Component),_=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={visible:!1},a.toggleMenu=a.toggleMenu.bind(Object(h.a)(a)),a.changeVisibility=a.changeVisibility.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"changeVisibility",value:function(e){this.toggleMenu(),e.stopPropagation()}},{key:"toggleMenu",value:function(){this.setState({visible:!this.state.visible})}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"NewProjectContainer",children:[this.state.visible&&Object(a.jsx)(E,{jwt:this.props.jwt,changeVisibility:this.changeVisibility}),Object(a.jsx)(k,{changeVisibility:this.changeVisibility})]})}}]),n}(s.Component),I=n(31),F=n.n(I),A=n(52),R=n(19),q=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={isVisible:!1,searchText:""},e.handleClickOutside=function(t){var n=t.target;e.state.isVisible&&e.wrapperRef&&!e.wrapperRef.contains(n)&&e.handleSelectClose()},e.handleInputChange=function(t){var n=t.target.value;e.setState({searchText:n})},e.handleSelectClose=function(){e.setState({isVisible:!1})},e.handleSelectClick=function(){e.setState((function(e){return{isVisible:!e.isVisible}}))},e.handleOptionSelect=function(t){e.setState({isVisible:!1,searchText:""},(function(){return e.props.handleChange(Object(c.a)({},t))}))},e.render=function(){return Object(a.jsx)("div",{style:{width:"70%",float:"left"},ref:function(t){return e.wrapperRef=t},children:e.props.children({isVisible:e.state.isVisible,handleInputChange:e.handleInputChange,handleSelectClick:e.handleSelectClick,handleOptionSelect:e.handleOptionSelect,searchText:e.state.searchText})})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}}]),n}(s.Component),L=(n(90),function(e){var t=e.children;return Object(a.jsx)("div",{className:"drop-container",children:t})}),B=(n(91),function(e){var t=e.children;return Object(a.jsxs)("label",{className:"label",children:[t,":"]})}),U=n(53),J=n.n(U),H=function(e){var t=e.className,n=e.name,s=e.value,i=e.onOptionSelect;return Object(a.jsx)("div",{className:t,"data-name":n,"data-value":s,onClick:i,children:s})},W=(n(117),function(){return Object(a.jsx)("div",{className:"no-options",children:"No options"})}),G=(n(118),function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).onOptionSelect=function(t){e.props.handleOptionSelect(t)},e.render=function(){var t=e.props,n=t.name,s=t.searchText,i=t.selectOptions,r=t.selected,o=s?i.filter((function(e){return e.value.toLowerCase().includes(s.toLowerCase())})):i;return Object(a.jsx)("div",{className:"options-container",children:J()(o)?Object(a.jsx)(W,{}):o.map((function(t){return Object(a.jsx)(H,{className:"option ".concat(r===t.value?"active-option":""),name:n,value:t.value,onOptionSelect:function(){return e.onOptionSelect(t)}},t.key)}))})},e}return n}(s.PureComponent)),K=(n(119),function(e){var t=e.placeholder,n=e.handleInputChange,s=e.searchText;return Object(a.jsx)("input",{className:"search-option",type:"text",placeholder:t,onChange:n,value:s})}),Q=(n(120),function(e){e.placeholder;var t=e.value;return Object(a.jsxs)("div",{className:"selection ".concat(t?"active-selection":""),children:["Selezionato: ",t||""]})}),X=(n(121),function(e){var t=e.handleInputChange,n=e.handleSelectClick,s=e.isVisible,i=e.isSearchable,r=e.placeholder,o=e.searchText,c=(e.showIcon,e.value);return Object(a.jsx)("div",{className:"input-container ".concat(s?"focused":""),children:Object(a.jsxs)("div",{className:"selection-box",onClick:n,children:[i&&Object(a.jsx)(K,{placeholder:r,handleInputChange:t,value:o}),Object(a.jsx)(Q,{placeholder:r,value:c})]})})}),Y=(n(122),function(e){var t=e.handleChange,n=e.name,s=e.label,i=e.selectOptions,r=e.value,o=Object(D.a)(e,["handleChange","name","label","selectOptions","value"]);return Object(a.jsx)(q,{handleChange:t,selectOptions:i,children:function(e){return Object(a.jsxs)("div",{className:"select-container",children:[s&&Object(a.jsx)(B,{children:s}),Object(a.jsxs)("div",{className:"select-box",children:[Object(a.jsx)(X,Object(c.a)(Object(c.a)(Object(c.a)({},e),o),{},{value:r})),e.isVisible&&Object(a.jsx)(L,{children:Object(a.jsx)(G,Object(c.a)(Object(c.a)({},e),{},{name:n,selectOptions:i,selected:r}))})]})]})}})});n(123);n(49);var Z=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={id:e.projectSelected.id,selezionatori:[],titolo:e.projectSelected.titolo,descrizione:e.projectSelected.descrizione,requisiti:e.projectSelected.requisiti,selezionatoreSelezionatoObj:{key:"None",value:"None"},experts:[],expertsSelectDropDown:[]},a.modify=a.modify.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.removeSelezionatore=a.removeSelezionatore.bind(Object(h.a)(a)),a.selectSelezionatore=a.selectSelezionatore.bind(Object(h.a)(a)),a.addSelezionatore=a.addSelezionatore.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("getting experts"),function(e){var t={url:"http://localhost:8080/api/expert/",method:"get",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}};return V()(t)}(this.props.jwt).then((function(t){var n=[],a=t.data;a.forEach((function(e){n.push({value:e})})),e.setState({experts:a,expertsSelectDropDown:n})})).catch((function(t){return e.setState({errorMessage:t.message})})),console.log("nome degli esperti presi come selezionatori"),this.props.projectSelected.selezionatori.forEach((function(t){console.log(t.esperto_id),function(e,t){var n={url:"http://localhost:8080/api/selezionatore/getUsernameById",method:"post",data:{id:t},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}};return V()(n)}(e.props.jwt,t.esperto_id).then((function(t){var n=e.state.selezionatori;n.push(t.data),e.setState({selezionatori:n})})).catch((function(e){return console.log(e)}))}))}},{key:"handleChange",value:function(e){this.setState(Object(R.a)({},e.target.name,e.target.value))}},{key:"modify",value:function(){var e=this;(function(e,t,n,a,s,i){var r={url:"http://localhost:8080/api/progetti/modify",method:"post",data:{id:t,titolo:n,descrizione:a,requisiti:s,selezionatori:i},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}};return V()(r)})(this.props.jwt,this.state.id,this.state.titolo,this.state.descrizione,this.state.requisiti,this.state.selezionatori).then((function(e){console.log(e)})).catch((function(t){return e.setState({errorMessage:t.message})}))}},{key:"selectSelezionatore",value:function(e){this.setState({selezionatoreSelezionatoObj:e})}},{key:"addSelezionatore",value:function(){var e=this.state.selezionatoreSelezionatoObj.value;this.setState({selezionatori:this.state.selezionatori.concat(e)})}},{key:"removeSelezionatore",value:function(e){var t=this.state.selezionatori.filter((function(t){return t.id!==e.id}));this.setState({selezionatori:t})}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"FormBackground",children:Object(a.jsxs)("div",{className:"FormContainer",children:[Object(a.jsxs)("form",{className:"Form",children:[Object(a.jsxs)("div",{className:"Label",children:[Object(a.jsx)("p",{children:"Titolo progetto:"}),Object(a.jsx)("textarea",{name:"titolo",type:"text",value:this.state.titolo,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"Label",children:[Object(a.jsx)("p",{children:"Descrizione:"}),Object(a.jsx)("textarea",{name:"descrizione",className:"Descrizione",type:"text",value:this.state.descrizione,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"Label",children:[Object(a.jsx)("p",{children:"Requisiti:"}),Object(a.jsx)("textarea",{name:"requisiti",type:"text",value:this.state.requisiti,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"Label",children:[Object(a.jsx)("p",{children:"Selezionatori:"}),this.state.experts?Object(a.jsxs)("span",{className:"Select",children:[Object(a.jsx)("button",{type:"button",onClick:this.addSelezionatore,children:"Aggiungi"}),Object(a.jsx)(Y,{name:"assists",label:"",value:this.state.selezionatoreSelezionatoObj.value,placeholder:"Cerca un selezionatore",handleChange:this.selectSelezionatore,selectOptions:this.state.expertsSelectDropDown,isSearchable:!0})]}):Object(a.jsx)("span",{children:"Loading"}),Object(a.jsx)("ul",{className:"Lista",children:this.state.selezionatori.map((function(t){return Object(a.jsxs)("li",{children:[Object(a.jsx)("div",{className:"nomeCognome",children:t}),Object(a.jsx)("button",{type:"button",onClick:function(){return e.removeSelezionatore(t)},children:"Rimuovi"})]})}))})]})]}),Object(a.jsx)("button",{onMouseDown:this.modify,className:"button",children:"Modifica"}),Object(a.jsx)("button",{onMouseDown:this.props.handleMouseDown,className:"button",children:"Annulla"})]})})}}]),n}(s.Component),$=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={visible:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("button",{onMouseDown:function(){e.props.handleMouseDown(),e.props.changeProjectSelected(e.props.proj)},children:this.props.proj.titolo})}}]),n}(s.Component),ee=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={jwt:e.jwt,username:e.username,visible:!1,projectSelected:null,error:"",progetti:[]},a.fetchData=a.fetchData.bind(Object(h.a)(a)),a.handleMouseDown=a.handleMouseDown.bind(Object(h.a)(a)),a.changeProjectSelected=a.changeProjectSelected.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.progetti!==t.progetti||this.state.visible!==t.visible}},{key:"componentDidMount",value:function(){var e=this;(function(e,t){var n={url:"http://localhost:8080/api/progetti/getProjectByUsername",method:"post",data:{username:t},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}};return V()(n).then((function(e){return e.data})).catch((function(e){return Promise.reject(e)}))})(this.state.jwt,this.state.username).then((function(t){console.log(t),e.setState({progetti:t})})).catch((function(t){return e.setState({error:w(t)})}))}},{key:"fetchData",value:function(){var e=Object(A.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handleMouseDown",value:function(){this.setState({visible:!this.state.visible})}},{key:"changeProjectSelected",value:function(e){this.setState({projectSelected:e})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"Container",children:[this.state.error&&Object(a.jsx)("div",{className:"error",children:this.state.error}),this.state.projectSelected&&this.state.visible&&Object(a.jsx)(Z,{handleMouseDown:this.handleMouseDown,projectSelected:this.state.projectSelected,jwt:this.state.jwt}),this.state.progetti.map((function(t,n){return Object(a.jsx)("div",{className:"CardsContainer",children:Object(a.jsx)($,{proj:t,changeProjectSelected:e.changeProjectSelected,handleMouseDown:e.handleMouseDown})})}))]})}}]),n}(s.Component),te=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={},a}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(_,{jwt:this.props.jwt}),Object(a.jsx)(ee,{jwt:this.props.jwt,username:this.props.username})]})}}]),n}(s.Component),ne=(n(124),function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(a.jsx)("div",{children:"ProgettiEsperto"})}}]),n}(s.Component)),ae=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;if(Object(l.a)(this,n),a=t.call(this,e),""!==e.jwt&&void 0!==e.jwt){var s=Object(f.a)(e.jwt);a.state={username:s.username,isProgettista:S(s),isEsperto:N(s),file:null,error:"",projects:[],message:""}}else a.state={projects:[],username:"",login_error:"Effettuare il login"};return a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.location.state&&this.setState({message:this.props.location.state.message})}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"contentStyles",children:[Object(a.jsx)("h1",{children:"I tuoi progetti"}),Object(a.jsx)(v,{msg_from_parent:this.state.message,class:"msg"}),this.state.login_error&&Object(a.jsx)("div",{className:"error",children:this.state.login_error}),this.state.error&&Object(a.jsx)("div",{className:"error",children:this.state.error})]}),this.state.isProgettista&&Object(a.jsx)(te,{username:this.state.username,jwt:this.props.jwt}),this.state.isEsperto&&Object(a.jsx)(ne,{username:this.state.username})]})}}]),n}(s.Component),se=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={prova:"",error:""},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;V()({url:"http://localhost:8080/api/progetti/storefront",method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return Promise.reject(e)})).then((function(e){console.log(e)})).catch((function(t){e.setState({error:w(t)})}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"contentStyles",children:[Object(a.jsx)("h1",{children:"Vetrina di tutti i progetti completati"}),this.state.error&&Object(a.jsx)("div",{className:"error",children:this.state.error})]})}}]),n}(s.Component),ie=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={visible:!1,projectSelected:null},a.handleMouseDown=a.handleMouseDown.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"handleMouseDown",value:function(){this.setState({visible:!this.state.visible})}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{onClick:this.handleMouseDown,children:this.props.proj.titolo}),this.state.visible&&Object(a.jsx)("ul",{children:this.props.proj.selezionatori.map((function(e){var t="/user/public/"+e.id;return Object(a.jsxs)("li",{children:[Object(a.jsx)(b.b,{to:t,children:e.nome}),Object(a.jsx)("button",{children:"Accetta"}),Object(a.jsx)("button",{children:"Rifiuta"})]})}))})]})}}]),n}(s.Component),re=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={projects:[],errorMessage:"",visible:!1,projectSelected:null},e.handleMouseDown=e.handleMouseDown.bind(Object(h.a)(e)),e}return Object(u.a)(n,[{key:"handleMouseDown",value:function(){this.setState({visible:!this.state.visible})}},{key:"componentDidMount",value:function(){var e=this;T("bfa3a6e9-c914-4bcb-9d4b-6d0c3b51101b").then((function(t){console.log(t),e.setState({projects:t})})).catch((function(t){return e.setState({errorMessage:t.message})}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"contentStyles",children:[this.state.errorMessage&&Object(a.jsxs)("h3",{className:"error",children:[" ",this.state.errorMessage," "]}),Object(a.jsx)("h1",{children:"Valuta"}),this.state.projects&&Object(a.jsx)("ul",{children:this.state.projects.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(ie,{proj:e})})}))})]})}}]),n}(s.Component),oe=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={projects:[],errorMessage:""},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;T("recruiterID").then((function(t){e.setState({projects:t})})).catch((function(t){return e.setState({errorMessage:t.message})}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"contentStyles",children:[this.state.errorMessage&&Object(a.jsxs)("h3",{className:"error",children:[" ",this.state.errorMessage," "]}),Object(a.jsx)("h1",{children:"Invia"})]})}}]),n}(s.Component),ce=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={valuta:!1,invia:!1},a.openValuta=a.openValuta.bind(Object(h.a)(a)),a.openInvia=a.openInvia.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"openValuta",value:function(){this.setState({valuta:!0,invia:!1})}},{key:"openInvia",value:function(){this.setState({valuta:!1,invia:!0})}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"contentStyles",children:[Object(a.jsx)("h1",{children:"Candidature"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{onClick:this.openInvia,children:"Invia"}),Object(a.jsx)("button",{onClick:this.openValuta,children:"Valuta"})]}),this.state.valuta&&Object(a.jsx)(re,{}),this.state.invia&&Object(a.jsx)(oe,{})]})}}]),n}(s.Component),le=(n(125),function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.inputs.map((function(e,t){var n=e.id,s=e.name,i=e.placeholder,r=e.type,o=e.value,c=(e.className,e.onClick),l=e.handleChange,u=(e.handleError,e.error);return"text"===r||"password"===r?Object(a.jsx)(M,{id:n,name:s,placeholder:i,type:r,value:o,className:r,onChange:l,error:u},t):"button"===r?Object(a.jsx)(M,{id:n,name:s,placeholder:i,type:r,value:o,className:r,onClick:c,error:u},t):null}));return Object(a.jsxs)("form",Object(c.a)(Object(c.a)({className:"Form"},this.props),{},{children:[e,this.props.error&&Object(a.jsx)("div",{className:"error",children:this.props.error})]}))}}]),n}(s.Component));var ue=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).handleChange=function(t){var n=t.target,a=n.id,s=n.value;e.setState(Object(R.a)({},a,s))},e.state={registration_flag:!1,error:"",username:"None",password:"None",confimrPassword:"None",email:"None",nomeEnte:"None",VATNumber:"None",nome:"None",cognome:"None",enteFormVisibility:!1,personaFormVisibility:!1},e.registrazionePersona=e.registrazionePersona.bind(Object(h.a)(e)),e.registrazioneEnte=e.registrazioneEnte.bind(Object(h.a)(e)),e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleEnteFormVisibility=e.handleEnteFormVisibility.bind(Object(h.a)(e)),e.handlePersonaFormVisibility=e.handlePersonaFormVisibility.bind(Object(h.a)(e)),e}return Object(u.a)(n,[{key:"handleEnteFormVisibility",value:function(){this.setState({enteFormVisibility:!0,personaFormVisibility:!1})}},{key:"handlePersonaFormVisibility",value:function(){this.setState({enteFormVisibility:!1,personaFormVisibility:!0})}},{key:"registrazionePersona",value:function(){var e,t,n,a,s,i=this;(e=this.state.username,t=this.state.password,n=this.state.email,a=this.state.nome,s=this.state.cognome,V.a.post("http://localhost:8080/api/auth/signUpPersona",{username:e,password:t,email:n,nome:a,cognome:s},{"Content-Type":"application/json"})).then((function(e){201===e.status&&"Nuovo utente creato!"===e.data&&i.setState({registration_flag:!0})})).catch((function(e){i.setState({error:w(e)})}))}},{key:"registrazioneEnte",value:function(){var e,t,n,a,s,i=this;(e=this.state.username,t=this.state.password,n=this.state.email,a=this.state.nomeEnte,s=this.state.VATNumber,V.a.post("http://localhost:8080/api/auth/signUpEnte",{username:e,password:t,email:n,nomeEnte:a,VATNumber:s},{"Content-Type":"application/json"})).then((function(e){console.log(e)})).catch((function(e){i.setState({error:w(e)})}))}},{key:"render",value:function(){if(this.state.registration_flag)return Object(a.jsx)(p.a,{to:{pathname:"/login",state:{message:"registrazione avvenuta con successo"}}});var e="",t="",n="",s="",i="",r="",o="",l="";""===this.state.username&&(e="non pu\xf2 essere vuoto"),""===this.state.password&&(t="non pu\xf2 essere vuoto"),""===this.state.email&&(s="non pu\xf2 essere vuoto"),this.state.password!==this.state.confimrPassword&&(n="le password devono essere uguali"),""===this.state.nomeEnte&&(i="non pu\xf2 essere vuoto"),""===this.state.VATNumber&&(r="non pu\xf2 essere vuoto"),""===this.state.nome&&(o="non pu\xf2 essere vuoto"),""===this.state.cognome&&(l="non pu\xf2 essere vuoto");var u={inputs:[{id:"username",placeholder:"username",type:"text",error:e,handleChange:this.handleChange},{id:"password",placeholder:"password",type:"password",error:t,handleChange:this.handleChange},{id:"confimrPassword",placeholder:"conferma password",type:"password",error:n,handleChange:this.handleChange},{id:"email",placeholder:"email",type:"text",error:s,handleChange:this.handleChange}],style:{width:"40%"}},h={inputs:[{id:"nomeEnte",placeholder:"None"===this.state.nomeEnte?"nome organizzazione":this.state.nomeEnte,type:"text",error:i,handleChange:this.handleChange},{id:"VATNumber",placeholder:"None"===this.state.VATNumber?"numero VAT/IRC":this.state.VATNumber,type:"text",error:r,handleChange:this.handleChange},{type:"button",value:"Registra Ente",className:"button",onClick:this.registrazioneEnte}],style:{width:"40%"}},j={inputs:[{id:"nome",placeholder:"None"===this.state.nome?"nome":this.state.nome,type:"text",error:o,handleChange:this.handleChange},{id:"cognome",placeholder:"None"===this.state.cognome?"cognome":this.state.cognome,type:"text",error:l,handleChange:this.handleChange},{type:"button",value:"Registra Persona",onClick:this.registrazionePersona}],style:{width:"40%"}};return Object(a.jsxs)("div",{className:"contentStyles",children:[Object(a.jsx)("h1",{children:"Registrazione"}),this.state.post_error&&Object(a.jsx)("div",{className:"error",children:this.state.post_error}),Object(a.jsx)(le,Object(c.a)(Object(c.a)({},u),{},{error:""})),Object(a.jsx)("button",{style:he,onClick:this.handleEnteFormVisibility,children:"Ente"}),Object(a.jsx)("button",{style:he,onClick:this.handlePersonaFormVisibility,children:"Persona"}),this.state.enteFormVisibility&&Object(a.jsx)(le,Object(c.a)(Object(c.a)({},h),{},{error:this.state.error})),this.state.personaFormVisibility&&Object(a.jsx)(le,Object(c.a)(Object(c.a)({},j),{},{error:this.state.error}))]})}}]),n}(s.Component),he={margin:"10px",padding:"3px",outline:"none",borderStyle:"none"},je=ue,de=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={username:"None",password:"None",error:"",message:"",login_flag:!1},e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e.handleChangeUsername=e.handleChangeUsername.bind(Object(h.a)(e)),e.handleChangePassword=e.handleChangePassword.bind(Object(h.a)(e)),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.location.state&&this.setState({message:this.props.location.state.message})}},{key:"handleSubmit",value:function(){var e,t,n=this;(e=this.state.username,t=this.state.password,console.log("login"),V.a.post("http://localhost:8080/api/auth/login",{username:e,password:t},{"Content-Type":"application/json"})).then((function(e){e&&200===e.status&&e.data&&(n.setState({login_flag:!0,error:""}),n.props.setJwt(e.data))})).catch((function(e){C(e),e.response?401===e.response.status&&n.setState({error:e.response.data}):n.setState({error:"Il server non \xe8 raggiungibile"})}))}},{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){if(this.state.login_flag)return Object(a.jsx)(p.a,{to:{pathname:"/",state:{message:"autenticazione avvenuta con successo"}}});var e="",t="";""===this.state.username&&(e="Inserire un nome utente"),""===this.state.password&&(t="Inserire una password");var n={inputs:[{id:"username",name:"username",placeholder:"username",type:"text",error:e,handleChange:this.handleChangeUsername},{id:"password",name:"password",placeholder:"password",type:"password",error:t,handleChange:this.handleChangePassword},{type:"button",value:"Log in",onClick:this.handleSubmit}],style:{width:"40%"}};return Object(a.jsxs)("div",{className:"contentStyles",children:[Object(a.jsx)("h1",{children:"Login"}),Object(a.jsx)("div",{className:"FormContainer",children:Object(a.jsx)("div",{children:Object(a.jsx)(le,Object(c.a)({},n))})}),Object(a.jsx)(v,{msg_from_parent:this.state.message,class:"msg"}),Object(a.jsx)(v,{msg_from_parent:this.state.error,class:"error"})]})}}]),n}(s.Component);n(126);function be(e,t){console.log(t);var n=new FormData;n.append("file",t),n.append("title",t.name);V.a.post("http://localhost:8080/api/profilo/loadCv",n,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(e)}}).then((function(e){return console.log(e)})).catch((function(e){C(e),function(e){for(var t in e)console.log(t),console.log(e[t])}(e)}))}var pe=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;if(Object(l.a)(this,n),a=t.call(this,e),""!==e.jwt&&void 0!==e.jwt){var s=Object(f.a)(e.jwt);a.state={username:s.username,isProgettista:S(s),isEsperto:N(s),file:null,error:""}}else a.state={username:""};return a.save=a.save.bind(Object(h.a)(a)),a.handleFileInput=a.handleFileInput.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.state.username}},{key:"save",value:function(e){if(null==this.state.file)return this.setState({error:"Il file non pu\xf2 superare essere vuoto"});be(this.props.jwt,this.state.file)}},{key:"handleFileInput",value:function(e){var t=e.target.files[0];t.size>10455040?this.setState({error:"Il file non pu\xf2 superare i 10MB"}):this.setState({file:t})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"contentStyles",children:[Object(a.jsx)("h1",{children:"Profilo Privato"}),this.state.error&&Object(a.jsx)("div",{className:"error",children:this.state.error}),this.state.username?Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"fileuploader",children:[this.state.isEsperto&&Object(a.jsx)("input",{type:"file",onChange:this.handleFileInput,accept:"application/pdf"}),"Informazioni che appariranno nel profilo pubblico:",Object(a.jsx)(z,{}),Object(a.jsx)("button",{onClick:function(t){return e.save(t)},className:"button",children:"salva modifiche"})]})}):Object(a.jsx)("div",{className:"error",children:"Effetturare il login"})]})}}]),n}(s.Component),ve=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;if(Object(l.a)(this,n),a=t.call(this,e),""!==e.jwt&&void 0!==e.jwt){var s=Object(f.a)(e.jwt);a.state={jwt:e.jwt,username:s.username,visiting:e.location.state.username,file_name:null,blob_url:null,info:null,error:""}}else a.state={username:"",visiting:e.location.state.username};return a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;(function(e,t){var n={"Content-Type":"application/json",Authorization:"Bearer ".concat(e)};return V.a.post("http://localhost:8080/api/profilo/getWithUsername",{username:t},{headers:n})})(this.state.jwt,this.state.visiting).then((function(t){if(t.data){var n=function(e,t){for(var n=atob(e),a=new Array(n.length),s=0;s<n.length;s++)a[s]=n.charCodeAt(s);var i=new Uint8Array(a);return new Blob([i],{type:t})}(t.data.cv.content,t.data.cv.blob_type),a=URL.createObjectURL(n);e.setState({file_name:t.data.cv.title,blob_url:a})}})).catch((function(t){return e.setState({error:w(t)})}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"contentStyles",children:[Object(a.jsx)("h1",{children:"Profilo Pubblico"}),this.state.error&&Object(a.jsx)("div",{className:"error",children:this.state.error}),!this.state.username&&Object(a.jsxs)("div",{className:"error",children:["Effetturare il login per visualizzare il profilo di ",this.state.visiting]}),Object(a.jsxs)("div",{children:[this.state.visiting&&Object(a.jsxs)("p",{children:["Profilo di ",this.state.visiting]}),this.state.blob_url&&Object(a.jsx)("a",{href:this.state.blob_url,download:this.state.file_name,children:"Download CV"}),this.state.info]})]})}}]),n}(s.Component),Oe=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={jwt:e.jwt,links:[],error:""},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.state.jwt,V.a.get("http://localhost:8080/api/profilo/profili",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).then((function(e){e.data&&t.setState({links:e.data})})).catch((function(e){return t.setState({error:w(e)})}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"contentStyles",children:[Object(a.jsx)("h1",{children:"Progettisti"}),!this.state.jwt&&Object(a.jsx)("div",{className:"error",children:"Effetturare il login"}),this.state.error&&Object(a.jsx)("div",{className:"error",children:this.state.error}),this.state.links.map((function(e,t){return Object(a.jsxs)(b.b,{to:{pathname:"/user/public",state:{username:e}},children:[" ",e," "]})}))]})}}]),n}(s.Component),me=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={jwt:""},e.setJwt=e.setJwt.bind(Object(h.a)(e)),e}return Object(u.a)(n,[{key:"setJwt",value:function(e){this.setState({jwt:e})}},{key:"render",value:function(){var e=this;return""===this.state.jwt&&console.log("jwt is empty"),Object(a.jsx)("div",{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(y,{jwt:this.state.jwt}),Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"/",exact:!0,component:O}),Object(a.jsx)(p.b,{path:"/login",render:function(t){return Object(a.jsx)(de,Object(c.a)(Object(c.a)({},t),{},{setJwt:e.setJwt}))}}),Object(a.jsx)(p.b,{path:"/signup",component:je}),Object(a.jsx)(p.b,{path:"/storefront",component:se}),Object(a.jsx)(p.b,{path:"/projects",render:function(t){return Object(s.createElement)(ae,Object(c.a)(Object(c.a)({},t),{},{key:Date.now(),jwt:e.state.jwt}))}}),Object(a.jsx)(p.b,{path:"/candidature",component:ce}),Object(a.jsx)(p.b,{path:"/user/private",render:function(t){return Object(a.jsx)(pe,Object(c.a)(Object(c.a)({},t),{},{jwt:e.state.jwt}))}}),Object(a.jsx)(p.b,{path:"/user/public",render:function(t){return Object(a.jsx)(ve,Object(c.a)(Object(c.a)({},t),{},{jwt:e.state.jwt}))}}),Object(a.jsx)(p.b,{path:"/progettisti",render:function(t){return Object(a.jsx)(Oe,Object(c.a)(Object(c.a)({},t),{},{jwt:e.state.jwt}))}})]})]})})}}]),n}(s.Component),fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,128)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),i(e),r(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(me,{})}),document.getElementById("root")),fe()},26:function(e,t,n){},27:function(e,t,n){},49:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},70:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){}},[[127,1,2]]]);
//# sourceMappingURL=main.20d577ef.chunk.js.map